cmake_minimum_required(VERSION 3.15)
project(OConfigurator VERSION 0.0.2)

set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED True)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR})

#-------
# setups
include(cmake/generate_locals.cmake)
include(cmake/compiler_warning.cmake)
include(cmake/simple_fetch_populate.cmake)
include(cmake/simple_fetch_repository.cmake)
Simple_Fetch_Repository(
	OUtils
	https://github.com/leocity207/OUtils.git
	V0.0.1
)
Simple_Fetch_Populate(
	rapdijson
	https://github.com/Tencent/rapidjson.git
	v1.1.0
	RapidJSON::rapidjson
)


#---------------------
# subdirectory project
add_subdirectory(src/configuration)

#------
# tests
option(BUILD_TESTS "Build tests" ON)
if(BUILD_TESTS)
	include(CTest)
	add_subdirectory(src/configuration/test)
endif()

#--------------
# documentation
option(BUILD_DOC "Build documentation" ON)
if(BUILD_DOC)
	add_subdirectory(documentation)
endif()